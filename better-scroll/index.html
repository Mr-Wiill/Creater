<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>better-scroll</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/vant@2.0/lib/index.css">
    <style>
        ul, li{
            margin: 0;
            padding: 0;
        }
        #demo{ 
            width:100%;
            height:15rem;
            line-height: 30rem;
            overflow:hidden;
            /* white-space: nowrap; */
        }
        #demo .header, #demo .content{
            width:auto;
            height:auto;
            /* border: 1px solid red; */
            white-space: nowrap;
        }
        .header li, .content li{
            display: inline-block;
        }
        .header li{
            margin: 0 1rem
        }
    </style>
</head>
<body>
    <!-- <div id="demo" ref="wrap">
        <ul class="content" ref="tab">
            <li>'ğŸ˜€ ğŸ˜ ğŸ˜‚ ğŸ¤£ ğŸ˜ƒ', </li>
            <li>'ğŸ˜€ ğŸ˜ ğŸ˜‚ ğŸ¤£ ğŸ˜ƒ', </li>
            <li>'ğŸ˜„ ğŸ˜… ğŸ˜† ğŸ˜‰ ğŸ˜Š', </li>
            <li>'ğŸ˜« ğŸ˜´ ğŸ˜Œ ğŸ˜› ğŸ˜œ', </li>
            <li>'ğŸ˜€ ğŸ˜ ğŸ˜‚ ğŸ¤£ ğŸ˜ƒ', </li>
            <li>'ğŸ˜€ ğŸ˜ ğŸ˜‚ ğŸ¤£ ğŸ˜ƒ', </li>
            <li>'ğŸ˜„ ğŸ˜… ğŸ˜† ğŸ˜‰ ğŸ˜Š', </li>
            <li>'ğŸ˜« ğŸ˜´ ğŸ˜Œ ğŸ˜› ğŸ˜œ', </li>
            <li>'ğŸ˜€ ğŸ˜ ğŸ˜‚ ğŸ¤£ ğŸ˜ƒ', </li>
            <li>'ğŸ˜€ ğŸ˜ ğŸ˜‚ ğŸ¤£ ğŸ˜ƒ', </li>
            <li>'ğŸ˜„ ğŸ˜… ğŸ˜† ğŸ˜‰ ğŸ˜Š', </li>
            <li>'ğŸ˜« ğŸ˜´ ğŸ˜Œ ğŸ˜› ğŸ˜œ', </li>
            <li>'ğŸ˜€ ğŸ˜ ğŸ˜‚ ğŸ¤£ ğŸ˜ƒ', </li>
            <li>'ğŸ˜€ ğŸ˜ ğŸ˜‚ ğŸ¤£ ğŸ˜ƒ', </li>
            <li>'ğŸ˜„ ğŸ˜… ğŸ˜† ğŸ˜‰ ğŸ˜Š', </li>
            <li>'ğŸ˜« ğŸ˜´ ğŸ˜Œ ğŸ˜› ğŸ˜œ', </li>
            <li>'ğŸ˜€ ğŸ˜ ğŸ˜‚ ğŸ¤£ ğŸ˜ƒ', </li>
            <li>'ğŸ˜€ ğŸ˜ ğŸ˜‚ ğŸ¤£ ğŸ˜ƒ', </li>
            <li>'ğŸ˜„ ğŸ˜… ğŸ˜† ğŸ˜‰ ğŸ˜Š', </li>
            <li>'ğŸ˜« ğŸ˜´ ğŸ˜Œ ğŸ˜› ğŸ˜œ', </li>
            <li>'ğŸ˜€ ğŸ˜ ğŸ˜‚ ğŸ¤£ ğŸ˜ƒ', </li>
            <li>'ğŸ˜€ ğŸ˜ ğŸ˜‚ ğŸ¤£ ğŸ˜ƒ', </li>
            <li>'ğŸ˜„ ğŸ˜… ğŸ˜† ğŸ˜‰ ğŸ˜Š', </li>
            <li>'ğŸ˜« ğŸ˜´ ğŸ˜Œ ğŸ˜› ğŸ˜œ', </li>
        </ul>
    </div> -->
    <div id="demo" ref="wrap">
        <van-list>
            <van-cell>
                <ul class="header">
                    <li>å…¬å¸ç®€ç§°</li>
                    <li>æ”¶ç›˜ä»·</li>
                    <li>æ¶¨å¹…</li>
                    <li>æŒ¯å¹…</li>
                    <li>æˆäº¤é‡</li>
                    <li>æˆäº¤é‡‘é¢</li>
                </ul>
            </van-cell>
            <van-cell
                v-for="item in list"
                :key="item.product"
            >
                <ul class="content" ref="tab">
                    <li>{{item.productname}}</li>
                    <li>{{item.closeprice}}</li>
                    <li>{{item.totalchng}}</li>
                    <li>{{item.totalchanges}}</li>
                    <li>{{item.totalvol}}</li>
                    <li>{{item.totalamt}}</li>
                </ul>
            </van-cell>
        </van-list>
    </div>
<script src="https://cdn.jsdelivr.net/npm/vue"></script>
<script src="./better-scroll@1.15.2.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vant@2.0/lib/vant.min.js"></script>
<script>
    window.onload = ()=>{
        new Vue({
            el:'#demo',
            data() {
                return {
                    list:[
                        {
                            closeprice: "3.77",         
                            evgprice: "3.79",
                            openprice: "3.79",
                            product: "601899",
                            productname: "ç´«é‡‘çŸ¿ä¸š",
                            totalamt: "121828.8356",
                            totalchanges: "3.4",
                            totalchng: "1.07",
                            totalexchrate: "1.89",
                            totalvol: "31909.8708",
                            tx_rank: 1,
                        },
                        {
                            closeprice: "3.77",
                            evgprice: "3.79",
                            openprice: "3.79",
                            product: "601899",
                            productname: "ç´«é‡‘çŸ¿ä¸š",
                            totalamt: "121828.8356",
                            totalchanges: "3.4",
                            totalchng: "1.07",
                            totalexchrate: "1.89",
                            totalvol: "31909.8708",
                            tx_rank: 1,
                        },
                        {
                            closeprice: "3.77",
                            evgprice: "3.79",
                            openprice: "3.79",
                            product: "601899",
                            productname: "ç´«é‡‘çŸ¿ä¸š",
                            totalamt: "121828.8356",
                            totalchanges: "3.4",
                            totalchng: "1.07",
                            totalexchrate: "1.89",
                            totalvol: "31909.8708",
                            tx_rank: 1,
                        },
                        {
                            closeprice: "3.77",
                            evgprice: "3.79",
                            openprice: "3.79",
                            product: "601899",
                            productname: "ç´«é‡‘çŸ¿ä¸š",
                            totalamt: "121828.8356",
                            totalchanges: "3.4",
                            totalchng: "1.07",
                            totalexchrate: "1.89",
                            totalvol: "31909.8708",
                            tx_rank: 1,
                        },
                        {
                            closeprice: "3.77",
                            evgprice: "3.79",
                            openprice: "3.79",
                            product: "601899",
                            productname: "ç´«é‡‘çŸ¿ä¸š",
                            totalamt: "121828.8356",
                            totalchanges: "3.4",
                            totalchng: "1.07",
                            totalexchrate: "1.89",
                            totalvol: "31909.8708",
                            tx_rank: 1,
                        },
                        {
                            closeprice: "3.77",
                            evgprice: "3.79",
                            openprice: "3.79",
                            product: "601899",
                            productname: "ç´«é‡‘çŸ¿ä¸š",
                            totalamt: "121828.8356",
                            totalchanges: "3.4",
                            totalchng: "1.07",
                            totalexchrate: "1.89",
                            totalvol: "31909.8708",
                            tx_rank: 1,
                        },
                        {
                            closeprice: "3.77",
                            evgprice: "3.79",
                            openprice: "3.79",
                            product: "601899",
                            productname: "ç´«é‡‘çŸ¿ä¸š",
                            totalamt: "121828.8356",
                            totalchanges: "3.4",
                            totalchng: "1.07",
                            totalexchrate: "1.89",
                            totalvol: "31909.8708",
                            tx_rank: 1,
                        },
                        {
                            closeprice: "3.77",
                            evgprice: "3.79",
                            openprice: "3.79",
                            product: "601899",
                            productname: "ç´«é‡‘çŸ¿ä¸š",
                            totalamt: "121828.8356",
                            totalchanges: "3.4",
                            totalchng: "1.07",
                            totalexchrate: "1.89",
                            totalvol: "31909.8708",
                            tx_rank: 1,
                        },
                        {
                            closeprice: "3.77",
                            evgprice: "3.79",
                            openprice: "3.79",
                            product: "601899",
                            productname: "ç´«é‡‘çŸ¿ä¸š",
                            totalamt: "121828.8356",
                            totalchanges: "3.4",
                            totalchng: "1.07",
                            totalexchrate: "1.89",
                            totalvol: "31909.8708",
                            tx_rank: 1,
                        },
                        {
                            closeprice: "3.77",
                            evgprice: "3.79",
                            openprice: "3.79",
                            product: "601899",
                            productname: "ç´«é‡‘çŸ¿ä¸š",
                            totalamt: "121828.8356",
                            totalchanges: "3.4",
                            totalchng: "1.07",
                            totalexchrate: "1.89",
                            totalvol: "31909.8708",
                            tx_rank: 1,
                        },
                        {
                            closeprice: "3.77",
                            evgprice: "3.79",
                            openprice: "3.79",
                            product: "601899",
                            productname: "ç´«é‡‘çŸ¿ä¸š",
                            totalamt: "121828.8356",
                            totalchanges: "3.4",
                            totalchng: "1.07",
                            totalexchrate: "1.89",
                            totalvol: "31909.8708",
                            tx_rank: 1,
                        },
                        {
                            closeprice: "3.77",
                            evgprice: "3.79",
                            openprice: "3.79",
                            product: "601899",
                            productname: "ç´«é‡‘çŸ¿ä¸š",
                            totalamt: "121828.8356",
                            totalchanges: "3.4",
                            totalchng: "1.07",
                            totalexchrate: "1.89",
                            totalvol: "31909.8708",
                            tx_rank: 1,
                        }
                    ]
                }
            },
            mounted() {
                this.$nextTick(_=>{
                    this.setBodyAutoWidth()
                    // this.setTabWidth()
                    setTimeout(_=>{
                        this.initSroll()
                    }, 0)
                })
            },
            methods: {
                setBodyAutoWidth(){
                    let header = this.$refs.wrap.querySelectorAll('.header li')
                    
                },
                setTabWidth(){
                    let w = 0
                    let lis = this.$refs.wrap.querySelectorAll('li')
                    lis.forEach(ele => w+=(ele.offsetWidth+5));
                    // lis.forEach(ele => w+=ele.offsetWidth);
                    this.$refs.tab.style.width = `${w}px`
                },
                initSroll(){
                    if (!this.BScroll) {
                        this.BScroll = new BScroll(this.$refs.wrap, {
                            scrollX: true,
                            scrollY: true,
                            click: true,
                            bounce: false,
                            probeType: 3,
                            //ä¸‹æ‹‰åˆ·æ–°ï¼šå¯ä»¥é…ç½®é¡¶éƒ¨ä¸‹æ‹‰çš„è·ç¦»ï¼ˆthresholdï¼‰ æ¥å†³å®šåˆ·æ–°æ—¶æœºä»¥åŠå›å¼¹åœç•™çš„è·ç¦»ï¼ˆstopï¼‰
                            //è¿™ä¸ªé…ç½®ç”¨äºåšä¸Šæ‹‰åŠ è½½åŠŸèƒ½ï¼Œé»˜è®¤ä¸º falseã€‚å½“è®¾ç½®ä¸º true æˆ–è€…æ˜¯ä¸€ä¸ª Object çš„æ—¶å€™ï¼Œå¯ä»¥å¼€å¯ä¸Šæ‹‰åŠ è½½
                            pullUpLoad: {
                                threshold: 10
                            },
                            mouseWheel: {    // pcç«¯åŒæ ·èƒ½æ»‘åŠ¨
                                speed: 20,
                                invert: false
                            },
                            useTransition:false  // é˜²æ­¢iphoneå¾®ä¿¡æ»‘åŠ¨å¡é¡¿
                        })
                    } else {
                        this.BScroll.refresh()
                    }
                    this.BScroll.on("pullingUp", ()=>{
                        console.log('åŠ è½½ajaxæ•°æ®');
                        this.BScroll.finishPullUp();     //å¯ä»¥å¤šæ¬¡æ‰§è¡Œä¸Šæ‹‰åˆ·æ–°
                    });
                }
            },
        })
    }
    /* let oScroll = new BScroll(".wrap", {
        scrollX: true,
        click: true,
        probeType: 3,
        //ä¸‹æ‹‰åˆ·æ–°ï¼šå¯ä»¥é…ç½®é¡¶éƒ¨ä¸‹æ‹‰çš„è·ç¦»ï¼ˆthresholdï¼‰ æ¥å†³å®šåˆ·æ–°æ—¶æœºä»¥åŠå›å¼¹åœç•™çš„è·ç¦»ï¼ˆstopï¼‰
        //è¿™ä¸ªé…ç½®ç”¨äºåšä¸Šæ‹‰åŠ è½½åŠŸèƒ½ï¼Œé»˜è®¤ä¸º falseã€‚å½“è®¾ç½®ä¸º true æˆ–è€…æ˜¯ä¸€ä¸ª Object çš„æ—¶å€™ï¼Œå¯ä»¥å¼€å¯ä¸Šæ‹‰åŠ è½½
        pullUpLoad: {
            threshold: 10
        },
        mouseWheel: {    // pcç«¯åŒæ ·èƒ½æ»‘åŠ¨
            speed: 20,
            invert: false
        },
        useTransition:false  // é˜²æ­¢iphoneå¾®ä¿¡æ»‘åŠ¨å¡é¡¿
    });
    oScroll.on("pullingUp",function(){
        //alert('å·²åˆ°æœ€åº•éƒ¨');
        console.log('åŠ è½½ajaxæ•°æ®');
        oScroll.finishPullUp();     //å¯ä»¥å¤šæ¬¡æ‰§è¡Œä¸Šæ‹‰åˆ·æ–°
    });
    oScroll.refresh(); */
</script>
</body>
</html>